<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Driver_loader (caqti.Caqti_platform.Driver_loader)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">caqti</a> &#x00BB; <a href="../index.html">Caqti_platform</a> &#x00BB; Driver_loader</nav><header class="odoc-preamble"><h1>Module <code><span>Caqti_platform.Driver_loader</span></code></h1><p>Registration and Loading of Drivers</p><p>This interface is unstable and may change between minor versions. If you are developing an external driver, please open an issue to sort out requirements and to announce you need for a stable driver API.</p></header><nav class="odoc-toc"><ul><li><a href="#registration">Registration</a></li><li><a href="#usage">Usage</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-DRIVER"><a href="#module-type-DRIVER" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-DRIVER/index.html">DRIVER</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This is the signature implemented by drivers, given the system dependencies. More precisely, drivers implement either <a href="module-type-DRIVER_FUNCTOR/index.html"><code>DRIVER_FUNCTOR</code></a> or <a href="../../Caqti_platform_unix/Driver_loader/module-type-DRIVER_FUNCTOR/index.html"><code>Caqti_platform_unix.Driver_loader.DRIVER_FUNCTOR</code></a> depending on requirements.</p></div></div><h3 id="registration"><a href="#registration" class="anchor"></a>Registration</h3><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-DRIVER_FUNCTOR"><a href="#module-type-DRIVER_FUNCTOR" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-DRIVER_FUNCTOR/index.html">DRIVER_FUNCTOR</a></span><span> =
  <span class="keyword">functor</span><span> (<a href="module-type-DRIVER_FUNCTOR/argument-1-System/index.html">System</a> : <a href="../System_sig/module-type-S/index.html">System_sig.S</a>) <span class="arrow">&#45;&gt;</span></span>
  <a href="module-type-DRIVER/index.html">DRIVER</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-DRIVER/index.html#type-fiber">fiber</a></span> := <span><span class="type-var">'a</span> <a href="module-type-DRIVER_FUNCTOR/argument-1-System/Fiber/index.html#type-t">System.Fiber.t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <span>('a, 'err) <a href="module-type-DRIVER/index.html#type-stream">stream</a></span> := <span><span>(<span class="type-var">'a</span>, <span class="type-var">'err</span>)</span> <a href="module-type-DRIVER_FUNCTOR/argument-1-System/Stream/index.html#type-t">System.Stream.t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-DRIVER/index.html#type-switch">switch</a> := <a href="module-type-DRIVER_FUNCTOR/argument-1-System/Switch/index.html#type-t">System.Switch.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-DRIVER/index.html#type-stdenv">stdenv</a> := <a href="module-type-DRIVER_FUNCTOR/argument-1-System/index.html#type-stdenv">System.stdenv</a></span></span></code></div><div class="spec-doc"><p>The functor implemented by drivers independent from the unix library.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register"><a href="#val-register" class="anchor"></a><code><span><span class="keyword">val</span> register : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="keyword">module</span> <a href="module-type-DRIVER_FUNCTOR/index.html">DRIVER_FUNCTOR</a>)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>register scheme driver_functor</code> registers <code>driver_functor</code> as the driver implementation for handling the URI scheme <code>scheme</code>.</p></div></div><h3 id="usage"><a href="#usage" class="anchor"></a>Usage</h3><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The the interface used internally to load drivers.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make"><a href="#module-Make" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make/index.html">Make</a></span><span>
  (<a href="Make/argument-1-System/index.html">System</a> : <a href="../System_sig/module-type-S/index.html">System_sig.S</a>) : 
  <a href="module-type-S/index.html">S</a>
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-S/index.html#type-fiber">fiber</a></span> := <span><span class="type-var">'a</span> <a href="Make/argument-1-System/Fiber/index.html#type-t">System.Fiber.t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <span>('a, 'e) <a href="module-type-S/index.html#type-stream">stream</a></span> := <span><span>(<span class="type-var">'a</span>, <span class="type-var">'e</span>)</span> <a href="Make/argument-1-System/Stream/index.html#type-t">System.Stream.t</a></span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-switch">switch</a> := <a href="Make/argument-1-System/Switch/index.html#type-t">System.Switch.t</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-S/index.html#type-stdenv">stdenv</a> := <a href="Make/argument-1-System/index.html#type-stdenv">System.stdenv</a></span></span></code></div><div class="spec-doc"><p>Instantiation of the loader interface for give system dependencies.</p></div></div></div></body></html>
